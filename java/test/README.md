# :dog: Как писать тесты

Набор рекомендаций, который собрал с интернетов, чтобы написанное выглядело единообразно. Постарался сжать, затронуть только то, что может быть проблемой

---

# :zap: Общее

## Тесты должны быть

Написать их не сложно, а помогут они потом сильно. Даже если метод кажется очевидным. Если его реализация поменяется, а тестов не написано - будет грустно

Желательно использовать TDD и в 2 разных коммитах добавлять тест и писать реализацию метода для него

---

## Один тест должен проверять одну вещь

Не более одного assert на метод

---

## Тесты должны быть независимыми

Случаи, когда требуется работа с другими частями обрабатывам через Mockito

---

# :camel::snake: Именования

Название каждого теста состоит из 3 частей. Каждая часть пишется в camelCase. Части разделяются нижним подчёркиванием

Части:
- Название тестируемого метода
- Начальные условия
- Ожидаемый результат

Пример правильно названного теста:

```java
@Test
void getTracksByUrl_incorrectVideoUrl_emptyTrackList() {
    // Что-то
}
```

# :book: Форматирование

Содержимое каждого теста следует разделять пустой строкой на 3 части:
- Задание начальных данных
- Проведение действий
- Проверка результата

Пример правильно написанного теста:

```java
@Test
void getTracksByUrl_incorrectVideoUrl_emptyTrackList() {
    YouTubePlatform youTubePlatform = new YouTubePlatform();
    String url = "https://www.youtube.com/watch?v=Gx7OL5FFFFFFFFFFFFFFFFF++2qx-c&ab_channel=Arthas.mp4";
    String requesterId = "0";

    ArrayList<Track> tracks = youTubePlatform.getTracksByUrl(url, requesterId);

    assertEquals(0, tracks.size());
}
```
